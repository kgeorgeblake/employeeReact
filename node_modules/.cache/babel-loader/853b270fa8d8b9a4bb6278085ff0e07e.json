{"ast":null,"code":"import _classCallCheck from\"/Users/georgeblake/Desktop/cwru/Homework/medialiteracyweek/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/georgeblake/Desktop/cwru/Homework/medialiteracyweek/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/georgeblake/Desktop/cwru/Homework/medialiteracyweek/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/georgeblake/Desktop/cwru/Homework/medialiteracyweek/node_modules/@babel/runtime/helpers/esm/createSuper\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import React,{Component}from\"react\";import DataTable from\"./DataTable\";import Nav from\"./Nav\";import API from\"../Utils/API\";// import \"../styles/DataArea.css\";\nvar DataArea=/*#__PURE__*/function(_Component){_inherits(DataArea,_Component);var _super=_createSuper(DataArea);function DataArea(){var _this;_classCallCheck(this,DataArea);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={users:[{}],order:\"descend\",filteredUsers:[{}]};_this.headings=[{name:\"Image\",width:\"10%\"},{name:\"Name\",width:\"10%\"},{name:\"Phone\",width:\"20%\"},{name:\"Email\",width:\"20%\"},{name:\"DOB\",width:\"10%\"}];_this.handleSort=function(heading){if(_this.state.order===\"descend\"){_this.setState({order:\"ascend\"});}else{_this.setState({order:\"descend\"});}var compareFnc=function compareFnc(a,b){if(_this.state.order===\"ascend\"){// account for missing values\nif(a[heading]===undefined){return 1;}else if(b[heading]===undefined){return-1;}// numerically\nelse if(heading===\"name\"){return a[heading].first.localeCompare(b[heading].first);}else{return a[heading]-b[heading];}}else{// account for missing values\nif(a[heading]===undefined){return 1;}else if(b[heading]===undefined){return-1;}// numerically\nelse if(heading===\"name\"){return b[heading].first.localeCompare(a[heading].first);}else{return b[heading]-a[heading];}}};var sortedUsers=_this.state.filteredUsers.sort(compareFnc);_this.setState({filteredUsers:sortedUsers});};_this.handleSearchChange=function(event){console.log(event.target.value);var filter=event.target.value;var filteredList=_this.state.users.filter(function(item){// merge data together, then see if user input is anywhere inside\nvar values=Object.values(item).join(\"\").toLowerCase();return values.indexOf(filter.toLowerCase())!==-1;});_this.setState({filteredUsers:filteredList});};return _this;}_createClass(DataArea,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;API.getUsers().then(function(results){_this2.setState({users:results.data.results,filteredUsers:results.data.results});});}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Nav,{handleSearchChange:this.handleSearchChange}),/*#__PURE__*/_jsx(\"div\",{className:\"data-area\",children:/*#__PURE__*/_jsx(DataTable,{headings:this.headings,users:this.state.filteredUsers,handleSort:this.handleSort})})]});}}]);return DataArea;}(Component);export{DataArea as default};","map":{"version":3,"sources":["/Users/georgeblake/Desktop/cwru/Homework/medialiteracyweek/src/Components/DataArea.js"],"names":["React","Component","DataTable","Nav","API","DataArea","state","users","order","filteredUsers","headings","name","width","handleSort","heading","setState","compareFnc","a","b","undefined","first","localeCompare","sortedUsers","sort","handleSearchChange","event","console","log","target","value","filter","filteredList","item","values","Object","join","toLowerCase","indexOf","getUsers","then","results","data"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport DataTable from \"./DataTable\";\nimport Nav from \"./Nav\";\nimport API from \"../Utils/API\";\n// import \"../styles/DataArea.css\";\n\nexport default class DataArea extends Component {\n  state = {\n    users: [{}],\n    order: \"descend\",\n    filteredUsers: [{}]\n  }\n\n  headings = [\n    { name: \"Image\", width: \"10%\" },\n    { name: \"Name\", width: \"10%\" },\n    { name: \"Phone\", width: \"20%\" },\n    { name: \"Email\", width: \"20%\" },\n    { name: \"DOB\", width: \"10%\" }\n  ]\n\n  handleSort = heading => {\n    if (this.state.order === \"descend\") {\n      this.setState({\n        order: \"ascend\"\n      })\n    } else {\n      this.setState({\n        order: \"descend\"\n      })\n    }\n\n    const compareFnc = (a, b) => {\n      if (this.state.order === \"ascend\") {\n        // account for missing values\n        if (a[heading] === undefined) {\n          return 1;\n        } else if (b[heading] === undefined) {\n          return -1;\n        }\n        // numerically\n        else if (heading === \"name\") {\n          return a[heading].first.localeCompare(b[heading].first);\n        } else {\n          return a[heading] - b[heading];\n        }\n      } else {\n        // account for missing values\n        if (a[heading] === undefined) {\n          return 1;\n        } else if (b[heading] === undefined) {\n          return -1;\n        }\n        // numerically\n        else if (heading === \"name\") {\n          return b[heading].first.localeCompare(a[heading].first);\n        } else {\n          return b[heading] - a[heading];\n        }\n      }\n\n    }\n    const sortedUsers = this.state.filteredUsers.sort(compareFnc);\n    this.setState({ filteredUsers: sortedUsers });\n  }\n\n  handleSearchChange = event => {\n    console.log(event.target.value);\n    const filter = event.target.value;\n    const filteredList = this.state.users.filter(item => {\n      // merge data together, then see if user input is anywhere inside\n      let values = Object.values(item)\n        .join(\"\")\n        .toLowerCase();\n      return values.indexOf(filter.toLowerCase()) !== -1;\n    });\n    this.setState({ filteredUsers: filteredList });\n  }\n\n  componentDidMount() {\n    API.getUsers().then(results => {\n      this.setState({\n        users: results.data.results,\n        filteredUsers: results.data.results\n      });\n    });\n  }\n\n  render() {\n    return (\n      <>\n        <Nav handleSearchChange={this.handleSearchChange} />\n        <div className=\"data-area\">\n          <DataTable\n            headings={this.headings}\n            users={this.state.filteredUsers}\n            handleSort={this.handleSort}\n          />\n        </div>\n      </>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}